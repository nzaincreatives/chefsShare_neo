
<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>chefsShare_NEO</title>
  <link rel="manifest" href="manifest.json" />
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background-color: black;
      color: white;
    }
    header {
      background-color: #55128a;
      padding: 1rem;
      text-align: center;
    }
    button {
      background-color: #d260d1;
      color: white;
      padding: 0.5rem 1rem;
      border: none;
      margin: 0.5rem;
      cursor: pointer;
    }
    .recipe-form, .recipe-list {
      padding: 1rem;
    }
    footer {
      text-align: center;
      padding: 1rem;
      background-color: #55128a;
      font-size: 0.8rem;
    }
  </style>
</head>
<body>
  <header>
    <h1>chefsShare_NEO</h1>
    <button onclick="showForm()">+ Rezept hinzufügen</button>
  </header>

  <div class="recipe-form" style="display:none;">
    <input id="title" placeholder="Titel" /><br/>
    <textarea id="ingredients" placeholder="Zutaten"></textarea><br/>
    <textarea id="instructions" placeholder="Anleitung"></textarea><br/>
    <input id="author" placeholder="Autor" /><br/>
    <button onclick="saveRecipe()">Speichern</button>
  </div>

  <div class="recipe-list" id="recipeList"></div>

  <footer>© nzain creatives</footer>

  
<!-- Firebase SDKs -->
<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.1/firebase-app.js";
  import { getFirestore, collection, getDocs, addDoc, onSnapshot } from "https://www.gstatic.com/firebasejs/10.8.1/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyB08-0-ppqwbgv1CjIb8cK7zlAys209E6I",
    authDomain: "chefsshare-290a7.firebaseapp.com",
    projectId: "chefsshare-290a7",
    storageBucket: "chefsshare-290a7.firebasestorage.app",
    messagingSenderId: "976841123078",
    appId: "1:976841123078:web:dbed562710d4b8e8afaa87",
    measurementId: "G-XVDW5QLJ27"
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  window.db = db;
</script>


  <script type="module">
    import { collection, addDoc, onSnapshot } from "https://www.gstatic.com/firebasejs/10.8.1/firebase-firestore.js";

    const db = window.db;
    const recipeList = document.getElementById("recipeList");
    const form = document.querySelector(".recipe-form");

    window.showForm = () => form.style.display = 'block';

    window.saveRecipe = async () => {
      const title = document.getElementById("title").value;
      const ingredients = document.getElementById("ingredients").value;
      const instructions = document.getElementById("instructions").value;
      const author = document.getElementById("author").value;

      await addDoc(collection(db, "recipes"), {
        title, ingredients, instructions, author, created: new Date()
      });

      form.style.display = 'none';
    };

    const showRecipes = (snapshot) => {
      recipeList.innerHTML = '';
      snapshot.forEach((doc) => {
        const r = doc.data();
        const el = document.createElement("div");
        el.innerHTML = `<h3>${r.title}</h3><p>${r.ingredients}</p><p>${r.instructions}</p><p><em>— ${r.author}</em></p>`;
        recipeList.appendChild(el);
      });
    };

    onSnapshot(collection(db, "recipes"), showRecipes);
  </script>
</body>
</html>
